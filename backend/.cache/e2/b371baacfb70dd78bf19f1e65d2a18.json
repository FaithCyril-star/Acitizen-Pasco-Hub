{"id":"BsZG","dependencies":[{"name":"C:\\Users\\ACC\\Desktop\\APH\\Acitizen-Pasco-Hub\\backend\\node_modules\\@azure\\core-tracing\\dist-esm\\src\\utils\\traceParentHeader.js.map","includedInParent":true,"mtime":1672192581314},{"name":"C:\\Users\\ACC\\Desktop\\APH\\Acitizen-Pasco-Hub\\backend\\package.json","includedInParent":true,"mtime":1672218648515},{"name":"C:\\Users\\ACC\\Desktop\\APH\\Acitizen-Pasco-Hub\\backend\\node_modules\\@azure\\core-tracing\\package.json","includedInParent":true,"mtime":1672192579339}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.extractSpanContextFromTraceParentHeader=e,exports.getTraceParentHeader=r;const t=\"00\";function e(e){const r=e.split(\"-\");if(4!==r.length)return;const[n,a,s,c]=r;return n===t?{spanId:s,traceId:a,traceFlags:parseInt(c,16)}:void 0}function r(e){const r=[];if(e.traceId||r.push(\"traceId\"),e.spanId||r.push(\"spanId\"),r.length)return;const n=(e.traceFlags||0).toString(16),a=1===n.length?`0${n}`:n;return`${t}-${e.traceId}-${e.spanId}-${a}`}"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":0}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":13}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":20}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":35}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":43}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":56}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":57}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":64}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":68}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":76}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":116}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":118}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":126}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":63,"column":0},"generated":{"line":1,"column":147}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":149}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":6,"column":6},"generated":{"line":1,"column":155}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":6,"column":16},"generated":{"line":1,"column":157}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":13,"column":6},"generated":{"line":1,"column":162}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":13,"column":16},"generated":{"line":1,"column":171}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":14,"column":2},"generated":{"line":1,"column":173}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":16,"column":2},"generated":{"line":1,"column":176}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":182}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":16,"column":16},"generated":{"line":1,"column":184}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":16,"column":34},"generated":{"line":1,"column":186}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":16,"column":40},"generated":{"line":1,"column":192}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":18,"column":2},"generated":{"line":1,"column":197}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":18,"column":23},"generated":{"line":1,"column":200}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":204}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":18,"column":12},"generated":{"line":1,"column":206}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":213}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":22,"column":2},"generated":{"line":1,"column":220}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":22,"column":9},"generated":{"line":1,"column":226}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":22,"column":18},"generated":{"line":1,"column":228}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":22,"column":27},"generated":{"line":1,"column":230}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":232}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":22,"column":51},"generated":{"line":1,"column":235}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":237}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":24,"column":6},"generated":{"line":1,"column":244}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":24,"column":18},"generated":{"line":1,"column":248}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":30,"column":35},"generated":{"line":1,"column":250}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":251}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":31,"column":4},"generated":{"line":1,"column":258}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":260}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":32,"column":4},"generated":{"line":1,"column":268}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":33,"column":4},"generated":{"line":1,"column":270}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":28,"column":21},"generated":{"line":1,"column":281}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":28,"column":30},"generated":{"line":1,"column":290}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":28,"column":44},"generated":{"line":1,"column":292}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":24,"column":2},"generated":{"line":1,"column":302}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":44,"column":6},"generated":{"line":1,"column":304}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":44,"column":16},"generated":{"line":1,"column":313}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":44,"column":37},"generated":{"line":1,"column":315}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":45,"column":2},"generated":{"line":1,"column":318}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":324}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":326}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":53,"column":2},"generated":{"line":1,"column":329}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":46,"column":7},"generated":{"line":1,"column":332}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":46,"column":19},"generated":{"line":1,"column":334}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":343}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":47,"column":18},"generated":{"line":1,"column":345}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":47,"column":23},"generated":{"line":1,"column":350}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":49,"column":7},"generated":{"line":1,"column":361}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":363}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":50,"column":4},"generated":{"line":1,"column":371}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":50,"column":18},"generated":{"line":1,"column":373}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":50,"column":23},"generated":{"line":1,"column":378}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":53,"column":6},"generated":{"line":1,"column":388}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":53,"column":20},"generated":{"line":1,"column":390}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":54,"column":4},"generated":{"line":1,"column":397}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":57,"column":2},"generated":{"line":1,"column":404}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":410}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":57,"column":16},"generated":{"line":1,"column":413}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":57,"column":28},"generated":{"line":1,"column":415}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":57,"column":38},"generated":{"line":1,"column":427}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":58,"column":25},"generated":{"line":1,"column":430}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":58,"column":34},"generated":{"line":1,"column":439}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":443}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":59,"column":41},"generated":{"line":1,"column":445}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":59,"column":21},"generated":{"line":1,"column":449}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":59,"column":30},"generated":{"line":1,"column":451}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":59,"column":49},"generated":{"line":1,"column":462}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":59,"column":62},"generated":{"line":1,"column":466}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":62,"column":2},"generated":{"line":1,"column":468}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":62,"column":12},"generated":{"line":1,"column":477}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":62,"column":23},"generated":{"line":1,"column":482}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":62,"column":35},"generated":{"line":1,"column":484}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":62,"column":46},"generated":{"line":1,"column":495}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":62,"column":58},"generated":{"line":1,"column":497}},{"source":"../../../src/utils/traceParentHeader.ts","name":null,"original":{"line":62,"column":68},"generated":{"line":1,"column":507}}],"sources":{"../../../src/utils/traceParentHeader.ts":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { SpanContext, TraceFlags } from \"../interfaces\";\n\nconst VERSION = \"00\";\n\n/**\n * Generates a `SpanContext` given a `traceparent` header value.\n * @param traceParent - Serialized span context data as a `traceparent` header value.\n * @returns The `SpanContext` generated from the `traceparent` value.\n */\nexport function extractSpanContextFromTraceParentHeader(\n  traceParentHeader: string\n): SpanContext | undefined {\n  const parts = traceParentHeader.split(\"-\");\n\n  if (parts.length !== 4) {\n    return;\n  }\n\n  const [version, traceId, spanId, traceOptions] = parts;\n\n  if (version !== VERSION) {\n    return;\n  }\n\n  const traceFlags = parseInt(traceOptions, 16);\n\n  const spanContext: SpanContext = {\n    spanId,\n    traceId,\n    traceFlags\n  };\n\n  return spanContext;\n}\n\n/**\n * Generates a `traceparent` value given a span context.\n * @param spanContext - Contains context for a specific span.\n * @returns The `spanContext` represented as a `traceparent` value.\n */\nexport function getTraceParentHeader(spanContext: SpanContext): string | undefined {\n  const missingFields: string[] = [];\n  if (!spanContext.traceId) {\n    missingFields.push(\"traceId\");\n  }\n  if (!spanContext.spanId) {\n    missingFields.push(\"spanId\");\n  }\n\n  if (missingFields.length) {\n    return;\n  }\n\n  const flags = spanContext.traceFlags || TraceFlags.NONE;\n  const hexFlags = flags.toString(16);\n  const traceFlags = hexFlags.length === 1 ? `0${hexFlags}` : hexFlags;\n\n  // https://www.w3.org/TR/trace-context/#traceparent-header-field-values\n  return `${VERSION}-${spanContext.traceId}-${spanContext.spanId}-${traceFlags}`;\n}\n"},"lineCount":null}},"error":null,"hash":"19f5765eefd1d2872129a92692942dea","cacheData":{"env":{}}}